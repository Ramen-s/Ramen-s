<%# frozen_string_literal: true %>

<%# public/items の genre_id を維持したいので、必要なキーだけ引き継ぐ %>
<% base_params = {} %>
<% base_params[:genre_id] = params[:genre_id] if params[:genre_id].present? %>

<nav class="nc-pagination" role="navigation" aria-label="pagination">
  <%= paginator.render do %>

    <%# 1 2 3 ...（数字） %>
    <% each_page do |page| %>
      <% if page.left_outer? || page.right_outer? || page.inside_window? %>
        <%= page_tag page %>
      <% elsif !page.was_truncated? %>
        <%= gap_tag %>
      <% end %>
    <% end %>

    <%# Next > %>
    <% if current_page.last? %>
      <span class="next disabled">Next &gt;</span>
    <% else %>
      <%= link_to "Next >", url_for(base_params.merge(page: current_page.number + 1)), class: "next" %>
    <% end %>

    <%# Last » %>
    <% if current_page.last? %>
      <span class="last disabled">Last &raquo;</span>
    <% else %>
      <%= link_to "Last »", url_for(base_params.merge(page: total_pages)), class: "last" %>
    <% end %>

  <% end %>
</nav>