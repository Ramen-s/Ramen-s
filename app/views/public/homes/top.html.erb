<div class="container mt-4">
  <div class="row">
    
    <!-- 左側：ジャンル検索サイドバー -->
    <div class="col-md-3">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th class="text-center">ジャンル検索</th>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
            <tr>
              <td>
                <!-- 検索機能は未実装でもリンクだけ置いておく -->
                <%= link_to genre.name, items_path(genre_id: genre.id), class: "text-dark", style: "text-decoration: none;" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <!-- 右側：メインコンテンツ -->
    <div class="col-md-9">
      
      <!-- メインビジュアル（画像部分） -->
      <div class="card mb-5">
        <!-- 画像があればここに image_tag を入れますが、今はワイヤーフレーム風の枠を表示します -->
        <div class="card-body bg-light text-center p-5" style="height: 300px; display: flex; align-items: center; justify-content: center;">
          <div>
            <h4 class="mb-3">ようこそ、ながのCAKEへ！</h4>
            <p>
              このサイトは、ラーメン販売のECサイトになります。<br>
              会員でない方も商品の閲覧はできますが、<br>
              購入には会員登録が必要になります。
            </p>
          </div>
        </div>
      </div>

      <!-- 新着商品エリア -->
      <h3>新着商品</h3>
      <div class="row mt-3">
        <% @new_items.each do |item| %>
          <div class="col-md-3">
            <div class="card h-100 border-0">
        
              <!-- ★修正ポイント：ここから link_to で囲む -->
              <%= link_to item_path(item.id), class: "text-dark", style: "text-decoration: none;" do %>
        
                <!-- 商品画像エリア -->
                <div class="bg-light text-center d-flex align-items-center justify-content-center" style="height: 150px; border: 1px solid #ddd;">
                  <% if item.image.attached? %>
                    <%= image_tag item.image, size: "150x150", style: "object-fit: cover;" %>
                  <% else %>
                    <span class="text-muted">No Image</span>
                  <% end %>
                </div>

                <!-- 商品情報エリア -->
                <div class="card-body px-0">
                  <h6 class="card-title font-weight-bold"><%= item.name %></h6>
                  <p class="card-text">¥<%= item.with_tax_price.to_fs(:delimited) %></p>
                </div>
          
              <% end %>
             <!-- ★修正ポイント：ここまで -->

            </div>
          </div>
        <% end %>
      </div>
      

      <!-- すべての商品を見るリンク -->
      <div class="text-right mt-3 mb-5">
        <%= link_to "すべての商品を見る >", items_path, class: "text-primary" %>
      </div>

    </div>

  </div>
</div>